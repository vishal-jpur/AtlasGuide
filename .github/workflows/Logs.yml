name: Capture Logs Example

on:
  push:

jobs:
  log-job:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Code
        uses: actions/checkout@v3

      - name: Generate Logs
        id: generate_logs
        run: |
          # Generate logs and print them to stdout
          echo "Starting the log generation...";
          echo "Running on $(uname -a)";
          echo "Current Date and Time: $(date)";
          echo "Listing files in the current directory:";
          ls -la;
          echo "Log generation completed."

      - name: Capture Logs
        id: capture_logs
        run: |
          # Capture the logs from the previous step and save them to a txt file
          echo "${{ steps.generate_logs.outputs.stdout }}" > captured_logs.txt
          # Store the log file as an artifact if necessary
          echo "Captured logs are saved to captured_logs.txt"

      - name: Display Captured Logs
        run: |
          # Display the captured logs from the txt file
          cat captured_logs.txt
